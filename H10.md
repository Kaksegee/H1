
# H10 
 Harjoituksen tarkoituksena on luoda tietokantasovellus, jossa on weppiliittymä hyödyntäen Djangon kehityspalvelinta.
 
 
### Laitteisto
 
* Käyttöjärjestelmä	Microsoft Windows 10 Enterprise LTSC 64 bit
* Prosessori i5-6600
* RAM 16 GB
* Virtuaaliohjelmisto : Oracle VM VirtualBox
* Virtuaalikoneen käyttöjärjestelmä: Debian-live-11.6.0-amd64-xfce+nonfree.iso
* Virtuaalipalvelin: Linode Nanode 1 GB





## Kehitysympäristön asentaminen (9:56-10:27--24.2.2023)

Aloitin harjoituksen asentamalla virtualenv-työkalun komenoilla:

    $ sudo apt-get update
    $ sudo apt-get -y install virtualenv
    
Seuraavaksi loin uuden virtuaaliympäristön ja liitin siihen viimeisimmät Python paketit komennolla:

    $ virtualenv --system-site-packages -p python3 env/
    
![image](https://user-images.githubusercontent.com/106889187/221125515-27817450-2c59-4d18-a6f1-991cdb600842.png)

Tämän jälkeen aktivoin uuden virtuaaliympäristön komennolla:

    $ source env/bin/activate
    
 Ja tarkistin, että paketit tullaan asentamaan virtuaaliympäristöön komennolla:
 
    $ which pip

Tämän jälkeen asensin micro-tekstieditorin ja listasin sen avulla Django paketin tekstitiedostona komennoilla:

    $ sudo apt-get install micro
    $ micro requirements.txt 
    
 Lisäsin tekstitiedostoon sisälle 'django'.
    
 ![image](https://user-images.githubusercontent.com/106889187/221127206-f2077b4d-23c5-4b51-b519-66ca028204b3.png)
  
  
Tarkistin tiedoston onnistuneen luomisen komennolla:
 
    $ cat requirements.txt
    
    
![image](https://user-images.githubusercontent.com/106889187/221127433-86dbbb8f-37db-479f-aa22-4b2e9f13e2d1.png)

Seuraavaksi asensin Djangon tekstitiedoston avulla komennolla:

    $ pip install -r requirements.txt

Lopuksi tarkistin Djangon asentumisen ja version komennolla:

    $ django-admin --version
  
![image](https://user-images.githubusercontent.com/106889187/221127908-0e4e9cbd-aafb-4284-b7cd-0ac5f4c28dd3.png)


  
  
   

## DJANGO (9:21--27.2.2023)

Aluksi siirryin aikaisemmin luotoon virtuaaliympäristöön komennoll:

    $ source env/bin/activate

![image](https://user-images.githubusercontent.com/106889187/221499957-02dc91dc-b5e1-430d-85c9-e2b4df316b8c.png)
 
Ja alotin uuden projektin komennolla:

    $ django-admin startproject idea
    
Vaihdoin uuden projectin hakemistoon komennolla:

    $ cd idea
    
Ja suoritin seuraavan komennon aloittaakseni kehitysserverin:

    $ ./manage.py runserver
    
Sain seuraavanlaisen viestin, joka kertoo tietokantojen päivittämisen tarpeesta. 

  ![image](https://user-images.githubusercontent.com/106889187/221500795-8b58fa6b-d7ff-441d-8914-91a29986d476.png)
  
Tarkistetaan ensin, että kehitysserveri toimii selaimessa.

![image](https://user-images.githubusercontent.com/106889187/221501460-59d71fbd-17c0-4ec7-a0d6-3e320e30b1bd.png)

Kehitysserveri on tominnassa. Päivitin seuraavaksi tietokannat ensin sulkemalla serverin CONTROL-C ja sen jälkeen komennoilla:

    $ ./manage.py makemigrations
    $ ./manage.py migrate

![image](https://user-images.githubusercontent.com/106889187/221502087-a485b27f-e687-4dd5-87c9-9fcbc52a40b1.png)


    
 Ja loin uuden taulukon komennolla:
  
    r01p4r=> CREATE TABLE students (id SERIAL PRIMARY KEY, name VARCHAR(200));
    
   ![Add file: Upload](/ss/h93.PNG)  
    
Avasin taulukon komennolla:

    r01p4r=> \d students
    
![Add file: Upload](/ss/h94.PNG)  

Seuraavaksi lisäsin taulukkoon nimiä käyttäen komentoja:

    
    r01p4r=> INSERT INTO students(name) VALUES ('Sami');
    r01p4r=> INSERT INTO students(name) VALUES ('Lotta');
    r01p4r=> INSERT INTO students(name) VALUES ('Roi');
    
Tarkistin nimien lisäämisen komennolla:

    r01p4r=> SELECT * FROM students;
    
 
![Add file: Upload](/ss/h95.PNG)  


Seuraavaksi päivitin yhtä taulukon nimeä komennolla:

    r01p4r=> UPDATE students SET name='Roi Moi' WHERE name='Roi';
    
 Tarkistin nimen päivittymistä komennolla:

    r01p4r=> select * from students;

![Add file: Upload](/ss/h96.PNG)  


   Seuraavaksi poistin nimen 'Sami' taulukosta students komennolla:
   
      r01p4r=> DELETE FROM students WHERE name='Sami';
      
  Tarkastelin nimen poiston onnistuneisuutta komennolla:

    r01p4r=> select * from students;
    
   ![Add file: Upload](/ss/h97.PNG)  
    
    
    
    

      
   





 ## Lopuksi 
 
 Tässä harjoituksessa asensin PostgreSQL:n ja harjoittelin datan luomista, lukemista, päivittämistä ja poistoa.
 
 
## Lähteet

Linux Palvelimet 2023 alkukevät, Tero Karvinen (https://terokarvinen.com/2023/linux-palvelimet-2023-alkukevat/)

Install PostgreSQL on Ubuntu – New user and database in 3 commands, Tero Karvinen - 3.3.2016 (https://terokarvinen.com/2016/03/03/install-postgresql-on-ubuntu-new-user-and-database-in-3-commands/)

PostgreSQL Install and One Table Database – SQL CRUD tutorial for Ubuntu, Tero Karvinen - 5.3.2016 (https://terokarvinen.com/2016/03/05/postgresql-install-and-one-table-database-sql-crud-tutorial-for-ubuntu/)




#### Tehnyt Roi Partanen 16.2.2023
